/*
 * source   : jsfunction.js
 * Version  : 1.1.0
 * depends  : Jquery 1.4+
 * Download : http://www.itbbb.com/jsfunction/jsfunction.js
 *
 * Author   : North
 * Blog     : http://www.itbbb.com
 * Wechat   : ITbeibei
 * Email    : babyisun@qq.com
 *
 * create   : 2014/03/29
 * update   : 2017/1/31
 *
 * message  : 如果发现任何bug、需要完善的代码，请发邮件或通过微信联系我，我很高兴与大家一起整理优雅的代码.
 **/
if("undefined"==typeof jQuery)throw new Error("JSFunction requires jQuery 1.4+");$.extend({JSFunction:{version:"1.1.0",author:"baby"}}),window.JSF=$.JSFunction,+function(){Function.prototype.fn=function(a,b){return this.prototype[a]||(this.prototype[a]=b),this}}(jQuery),+function(a){"use strict";var b={get:function(a){var e,d,b="",c=a+"=";return document.cookie.length>0&&(d=document.cookie.indexOf(c),-1!=d&&(d+=c.length,e=document.cookie.indexOf(";",d),-1==e&&(e=document.cookie.length),b=unescape(document.cookie.substring(d,e)))),b},set:function(a,b,c,d,e){var f="",g="",h={day:864e5,hour:36e5,minute:6e4,seconds:1e3};c&&(d||(d="hour"),f=new Date((new Date).getTime()+c*h[d]),f="; expires="+f.toGMTString()),e&&(g="; domain="+e),document.cookie=a+"="+escape(b)+f+";path=/"+g},remove:function(a){this.set(a,null,-1)}};window.JSF.cookie=a.cookie=b}(jQuery),+function(a){"use strict";var b={dataDom:null,dataName:location.hostname?location.hostname:"localUserData",Init:function(){if(!this.dataDom)try{this.dataDom=document.createElement("input"),this.dataDom.type="hidden",this.dataDom.style.display="none",this.dataDom.addBehavior("#default#userData"),document.body.appendChild(this.dataDom),this.dataDom.expires=new Date(a.date().addDays(365)).toUTCString(),this.dataDom.load(this.dataName)}catch(b){return console.log("当前环境无法使用,The system cannot be used."),!1}return!0},get:function(a){return window.localStorage?window.localStorage.getItem(a):this.Init()?this.dataDom.getAttribute(a):void 0},set:function(a,b){window.localStorage?window.localStorage.setItem(a,b):this.Init()&&(this.dataDom.setAttribute(a,b),this.dataDom.save(this.dataName))},remove:function(a){window.localStorage?localStorage.removeItem(a):this.Init()&&(this.dataDom.removeAttribute(key),this.dataDom.save(this.dataName))},removeAll:function(){window.localStorage?localStorage.clear():this.dataDom&&a(this.dataDom).remove()}};window.JSF.localData=a.localData=b}(jQuery),+function(a){"use strict";var d,e,f,g,h,i,b={webkit:!1,msie:!1,firefox:!1},c=window.navigator.userAgent.toLowerCase();a.browser?b=a.browser:(d=/(webkit)[ \/]([\w.]+)/,e=/(msie) ([\w.]+)/,f=/(firefox)\/([\d.]+)/,g=/(trident)(?:.*? rv:([\w.]+))?/,h=function(){var a=d.exec(c)||e.exec(c)||f.exec(c)||g.exec(c)||[];return{browser:a[1]||"",version:a[2]||"0"}},i=h(),i.browser&&("trident"==i.browser&&(i.browser="msie"),b[i.browser]=!0,b.version=i.version)),b.ie6=b.msie&&"6.0"==b.version,b.mobile="ipad"==c.match(/ipad/i)||"iphone os"==c.match(/iphone os/i)||"midp"==c.match(/midp/i)||"rv:1.2.3.4"==c.match(/rv:1.2.3.4/i)||"ucweb"==c.match(/ucweb/i)||"android"==c.match(/android/i)||"windows ce"==c.match(/windows ce/i)||"windows mobile"==c.match(/windows mobile/i),window.JSF.browser=a.browser=b}(jQuery),+function(a){"use strict";a.date=function(a){return a?"string"==typeof a?new Date(a.replace(/-/g,"/")):new Date(a):new Date},Date.fn("format",function(a){var c,b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}),Date.fn("addMseconds",function(a){var b=this.getTime()+a;return new Date(b)}),Date.fn("addSeconds",function(a){return this.addMseconds(1e3*a)}),Date.fn("addMinutes",function(a){return this.addSeconds(60*a)}),Date.fn("addHours",function(a){return this.addMinutes(60*a)}),Date.fn("addDays",function(a){return this.setDate(this.getDate()+a),this}),Date.fn("addWeeks",function(a){return this.addDays(7*a)}),Date.fn("addMonths",function(a){var b=this.getDate();return this.setMonth(this.getMonth()+a),this.getDate()<b&&this.setDate(0),this}),Date.fn("addYears",function(a){var b=this.getMonth();return this.setFullYear(this.getFullYear()+a),b<this.getMonth()&&this.setDate(0),this}),Date.fn("getWeek",function(a){var c,d,e,b=this.getDay();return a&&"周"!=a&&"星期"!=a?"En"==a?(d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d[b]):"Short"==a?(e=["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],e[b]):void 0:(c=["日","一","二","三","四","五","六"],a=a||"周",a+c[b])}),Date.fn("currentWeek",function(){var c,d,a=this.getDay(),b=[];for(a=0==a?7:a,c=this.addDays(-a),d=1;7>=d;d++)b.add(new Date(c.addDays(1)));return b}),Date.fn("getAge",function(){var k,b=0,c=a.date(),d=this.getFullYear(),e=this.getMonth(),f=this.getDate(),g=c.getFullYear(),h=c.getMonth(),i=c.getDate(),j=g-d;return 0==j?b=0:j>0?(k=h-e,b=0==k?0>i-f?j-1:j:0>k?j-1:j):b="未出生",b}),Date.fn("isLeapYear",function(){var a=this.getFullYear();return 0==a%4&&(0!=a%100||0==a%400)}),Date.fn("daysInMonth",function(){var a=this.getMonth()+1;return 2!=a?7>=a&&1==a%2||a>7&&0==a%2?31:30:this.isLeapYear()?29:28}),a.diffDate=function(b,c,d){var e={day:864e5,hour:36e5,minute:6e4,seconds:1e3};return"string"==typeof b&&(b=a.date(b)),"string"==typeof c&&(c=a.date(c)),d=d||"day",parseInt((c.getTime()-b.getTime())/parseInt(e[d]))},a.countDown=function(b){function f(){var a=d.endTime-d.startTime,b=parseInt(a/864e5),c=parseInt(a/36e6%24),f=parseInt(a/6e4%60),g=parseInt(a/1e3%60),h={day:b,hours:c,minutes:f,seconds:g};d.startTime=d.startTime.addSeconds(d.interval),d.timed(h),0>=a&&(clearInterval(e),d.finaled())}var c={second:0,startTime:a.date(),endTime:0,interval:1,started:function(){},timed:function(){},finaled:function(){}},d={},e=null;d=a.extend(c,b),d.second&&(d.startTime=a.date(),d.endTime=a.date().addSeconds(d.second)),e=setInterval(f,1e3*d.interval),d.started()}}(jQuery),+function(a){"use strict";String.fn("replaceAll",function(a,b){return this.replace(new RegExp(a,"gm"),b)}),String.fn("trim",function(){var b,a=this.replace(/^\s*/,"");for(b=a.length-1;b>=0;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a}),String.fn("left",function(a){return this.slice(0,a)}),String.fn("right",function(a){return this.slice(this.length-a)}),String.fn("toDate",function(b){var c=a.date(this);return b?c.format(b):c}),String.fn("isDate",function(){var b,a=this.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);return null==a?!1:(b=new Date(a[1],a[3]-1,a[4]),b.getFullYear()==a[1]&&b.getMonth()+1==a[3]&&b.getDate()==a[4])}),String.fn("compareDate",function(a){if(!this.isDate()||!a.isDate())return!1;var b=new Date(this.replace(/-/g,"/")),c=new Date(a.replace(/-/g,"/"));return b>c}),String.fn("formatNumber",function(){var a,b,c,d,e;if(isNaN(+this)||"number"!=typeof+this)return this;for(a=this.split("."),b=a[0].length,c=a[0].split("").reverse(),d=[],e=0;b>e;e++)d.push(c[e]),2==e%3&&e!=b-1&&d.push(",");return a[0]=d.reverse().join(""),a.join(".")}),String.fn("htmlEncode",function(){var b,a=document.createElement("div");return null!=a.textContent?a.textContent=this:a.innerText=this,b=a.innerHTML,a=null,b}),String.fn("htmlDecode",function(){var b,a=document.createElement("div");return a.innerHTML=this,b=a.innerText||a.textContent,a=null,b})}(jQuery),+function(){"use strict";Array.fn("add",function(a){return this.push(a),this}),Array.fn("addRange",function(a){var c,b=a.length;if(b)for(c=0;b>c;c++)this.push(a[c]);return this}),Array.fn("forEach",function(a,b){var c,d,e,f,g;if(null==this)throw new TypeError(" this is null or not defined");if(e=Object(this),f=e.length>>>0,"[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;)d in e&&(g=e[d],a.call(c,g,d,e)),d++}),Array.fn("clear",function(){return this.length>0&&this.splice(0,this.length),this}),Array.fn("isEmpty",function(){return 0==this.length}),Array.fn("indexOf",function(a){var c,b=this.length;if(0!=b)for(c=0;b>c;c++)if(this[c]==a)return c;return-1}),Array.fn("contains",function(a){var b=this.indexOf(a);return b>=0}),Array.fn("insert",function(a,b){return this.splice(a,0,b)}),Array.fn("dequeue",function(){return this.shift()}),Array.fn("remove",function(a){var b=this.indexOf(a);return b>=0&&this.splice(b,1),this}),Array.fn("removeAt",function(a){return this.splice(a,1),this}),Array.fn("reverse",function(){var c,a=new Array,b=this.length;for(c=b-1;c>-1;c--)a[a.length]=this[c];return a}),Array.fn("skip",function(a){var d,b=this.length,c=new Array;for(d=a;b>d;d++)b>d&&(c[c.length]=this[d]);return c}),Array.fn("take",function(a){var d,b=this.length,c=new Array;for(d=0;a>d;d++)b>d&&(c[c.length]=this[d]);return c}),Array.fn("where",function(a){var b,c,d;if(!a)return this;for(b=this.length,c=new Array,d=0;b>d;d++)a(this[d],d)&&(c[c.length]=this[d]);return c}),Array.fn("joinKey",function(a){var d,e,b=this.length,c=new Array;if(a)for(d=0;b>d;d++)e=this[d][a],e&&(c[c.length]=e);return c}),Array.fn("removeByKey",function(a,b){return a&&b&&b.length?this.where(function(c){return!b.contains(c[a])}):this}),Array.fn("first",function(a){var b=this.length;return null!=a?this.where(a).first():b>0?this[0]:null}),Array.fn("last",function(a){var b=this.length;return null!=a?this.where(a).last():b>0?this[b-1]:null}),Array.fn("any",function(a){var c,b=this.length;for(c=0;b>c;c++)if(a(this[c],c))return!0;return!1}),Array.fn("all",function(a){var c,b=this.length;for(c=0;b>c;c++)if(!a(this[c],c))return!1;return!0}),Array.fn("count",function(a){return null==a?this.length:this.where(a).length}),Array.fn("orderBy",function(a){var d,b=this.length,c=new Array;for(d=0;b>d;d++)c[c.length]=this[d];return c.sort(function(b,c){var d=a(b),e=a(c);return e>d?-1:d>e?1:0}),c}),Array.fn("orderByDescending",function(a){var d,b=this.length,c=new Array;for(d=0;b>d;d++)c[c.length]=this[d];return c.sort(function(b,c){var d=a(c),e=a(b);return e>d?-1:d>e?1:0}),c}),Array.fn("max",function(a){var b,e,f,c=this.length,d=this[0];if(0==c)return null;if(1==c)return d;for(b=a(d,0),e=1;c>e;e++)f=a(this[e],e),f>b&&(d=this[e]);return d}),Array.fn("min",function(a){var b,e,f,c=this.length,d=this[0];if(0==c)return null;if(1==c)return d;for(b=a(d,0),e=1;c>e;e++)f=a(this[e],e),b>f&&(d=this[e]);return d}),Array.fn("sum",function(a){var e,f,b=0,c=this.length;for(this[0],e=0;c>e;e++){if(f=a(this[e],e),/[^\d]/.test(f))throw new TypeError("类型错误");b+=f}return b}),Array.fn("distinct",function(a){var c,d,e,f,g,h,i,b=this.length;if(2>b)return this;for(c=new Object,d=new Array,e=function(a){var c,b="";if("object"==typeof a)for(c in a)b+="object"==typeof a[c]?e(a[c]):c+a[c];else b=a;return b},a||(a=function(a){return a}),f=0;b>f;f++)g=this[f],h=a(g),i=e(h),null==c[i]&&(c[i]=!0,d[d.length]=g);return c=null,d}),Array.fn("clone",function(){var d,e,a=function(b){var d,c=new Object;if("object"==typeof b)for(d in b)c[d]="object"==typeof b[d]&&null!=b[d]?a(b[d]):b[d];else c=b;return c},b=new Array,c=this.length;for(d=0;c>d;d++)e=this[d],"object"==typeof e?(e=a(e),b.push(e)):b.push(e);return b})}(jQuery),+function(a){"use strict";var b={init:function(){this.addData({key:"tel",regex:/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/,tip:"请输入有效的电话号码，如：010-59862221"},{key:"mobile",regex:/(^0?[1][34578][0-9]{9}$)/,tip:"请输入有效的手机号码"},{key:"email",regex:/^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]{2,4}$/,tip:"请输入有效的邮件地址"},{key:"mobileemail",regex:/(^0?[1][3458][0-9]{9}$)|(^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]{2,4}$)/,tip:"请输入有效的手机或邮箱"},{key:"date",regex:/^((([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0?[13578]|1[02])-(0?[1-9]|[12][0-9]|3[01]))|((0?[469]|11)-(0?[1-9]|[12][0-9]|30))|(0?2-(0?[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-0?2-29))$/,tip:"请输入一个有效日期，如：2008-08-08"},{key:"ip",regex:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,tip:"请输入有效的IP"},{key:"chinese",regex:/^[\u4e00-\u9fa5]+$/,tip:"请输入中文"},{key:"url",regex:"/^[a-zA-z]:\\/\\/[^s]$/",tip:"请输入有效的网址"},{key:"zipcode",regex:/^\d{6}$/,tip:"请输入有效的邮政编码"},{key:"qq",regex:/^[1-9]\d{4,11}$/,tip:"请输入有效的QQ号码"},{key:"idcard",regex:/^(\d{18,18}|\d{15,15}|\d{17,17}x)$/,tip:"请输入有效身份证"},{key:"number",regex:/^[0-9]+$/,tip:"请输入数字"},{key:"letter",regex:/^[a-zA-Z]+$/,tip:"请输入英文字母"},{key:"word",regex:/^[0-9a-zA-Z]+$/,tip:"请输入英文字母和数字"},{key:"required",regex:{test:function(a,b,c){return a.length?b&&a.length<b?!1:c&&a.length>c?!1:!0:!1}},tip:"请输入内容"})},_base:function(a){return this.reg=a.regex,this.tip=a.tip,this.test="required"!=a.key?function(b){return a.regex.test(b)}:function(b,c,d){return a.regex.test(b,c,d)},this},addData:function(){for(var a in arguments)this[arguments[a].key]=new this._base(arguments[a])}};b.init(),a.regExp=b}(jQuery),+function(a){"use strict";var b={getArgs:function(){var e,f,g,h,a=new Object,b=location.search.substring(1),c=b.split("&"),d=c.length;for(e=0;d>e;e++)f=c[e].indexOf("="),-1!=f&&(g=c[e].substring(0,f),h=c[e].substring(f+1),h=decodeURIComponent(h),a[g]=h);return a},addFav:function(a,b,c){a||(a=window.location.href),b||(b=document.title);try{window.external.addFavorite(a,b)}catch(d){try{window.sidebar.addPanel(b,a,"")}catch(d){c&&c(d)}}},parse:function(a){var b=document.createElement("a");return a=a||document.location.href,b.href=a,{source:a,protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,query:b.search,file:(b.pathname.match(/([^\/?#]+)$/i)||[,""])[1],hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1"),relative:(b.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:b.pathname.replace(/^\//,"").split("/")}},addCss:function(a){var b,c;if(!a||0===a.length)throw new Error('argument "path" is required !');b=document.getElementsByTagName("head")[0],c=document.createElement("link"),c.href=a,c.rel="stylesheet",c.type="text/css",b.appendChild(c)},addJs:function(a,b){var c,d;if(!a||0===a.length)throw new Error('argument "path" is required !');c=document.getElementsByTagName("head")[0],d=document.createElement("script"),d.src=a,d.type="text/javascript",c.appendChild(d),b&&(d.onload=function(){b()})},open:function(b){var c=a("#open_instead_Link");c.length||(c=a("<a id='open_instead_Link' href='javascript:;' target='_blank' onClick='window.open(this.href); return false;' ></a> ").appendTo("body")),c.attr("href",b).trigger("click")}};window.JSF.url=a.url=b}(jQuery),+function(a){"use strict";a.fn.getFormData=function(){for(var d,e,f,g,i,b=a(this).find("input,select,textarea"),c="",h=0;h<b.length;h++)e=b[h].type,g=b[h].getAttribute("data-read"),"button"!=e&&"submit"!=e&&"image"!=e&&"reset"!=e&&"ignore"!=g&&(f=b[h].name,""!=c&&"&"!=c.substring(c.length-1,c.length)&&(c+="&"),"radio"==e||"checkbox"==e?d!=f&&(d=f,i="","radio"==e?(i=a("input:radio[name='"+f+"']:checked").val(),c+=f+"="+(i?encodeURIComponent(i):"")):(a("[name='"+f+"']:checked").each(function(){i+=a(this).val()+","}),c+=f+"="+(i?i.substring(0,i.length-1):""))):c+=f+"="+encodeURIComponent(b[h].value));return c},a.fn.placeholder=function(b){if("placeholder"in document.createElement("input"))return this;var c=function(a,b){b?a.css({display:"none"}):a.css({display:"inline"})};return this.each(function(){var f,g,h,i,j,k,d=a(this),e=d.attr("placeholder");e&&(f=5,g=d.outerHeight(),h=d.outerWidth(),i=a('<span class="jsf_placeholder">'+e+"</span>"),j=d.css("padding-left"),j&&(f=1*j.match(/\d*/i)[0]),k={"margin-left":-(h-f),height:g,"line-height":g+"px",position:"absolute",color:"#cecfc9","font-size":"12px"},b=a.extend(k,b),i.css(b).click(function(){d.focus()}),c(i,d.val()),i.insertAfter(d),d.keyup(function(){c(i,a(this).val())}).blur(function(){c(i,a(this).val())}))})}}(jQuery);